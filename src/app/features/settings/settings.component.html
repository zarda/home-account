<div class="settings-container">
  <!-- Header -->
  <div class="header-section">
    <h1 class="text-2xl font-bold text-gray-900 dark:text-gray-100">{{ 'settings.title' | translate }}</h1>
    <p class="text-gray-500 dark:text-gray-400 text-sm mt-1">{{ 'settings.subtitle' | translate }}</p>
  </div>

  <!-- User Card -->
  <div class="user-card">
    @if (userPhoto) {
      <img [src]="userPhoto" alt="Profile" class="user-avatar">
    } @else {
      <div class="user-avatar-placeholder">
        <mat-icon>person</mat-icon>
      </div>
    }
    <div class="user-info">
      <span class="user-name">{{ userName }}</span>
      <span class="user-email">{{ userEmail }}</span>
    </div>
  </div>

  <!-- Settings Sections -->
  <mat-accordion class="settings-accordion" multi>
    <!-- Profile & Preferences -->
    <mat-expansion-panel [expanded]="true">
      <mat-expansion-panel-header>
        <mat-panel-title>
          <mat-icon class="section-icon">tune</mat-icon>
          {{ 'settings.preferences' | translate }}
        </mat-panel-title>
        <mat-panel-description>
          {{ 'settings.preferencesDescription' | translate }}
        </mat-panel-description>
      </mat-expansion-panel-header>
      <app-profile-settings />
    </mat-expansion-panel>

    <!-- AI Settings Link Card -->
    <div class="settings-link-card" routerLink="/ai">
      <div class="link-card-icon ai-icon">
        <mat-icon>psychology</mat-icon>
      </div>
      <div class="link-card-content">
        <span class="link-card-title">{{ 'settings.aiSettings' | translate }}</span>
        <span class="link-card-description">{{ 'settings.aiSettingsDescription' | translate }}</span>
      </div>
      <mat-icon class="link-card-arrow">chevron_right</mat-icon>
    </div>

    <!-- Category Manager -->
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          <mat-icon class="section-icon">category</mat-icon>
          {{ 'settings.categories' | translate }}
        </mat-panel-title>
        <mat-panel-description>
          {{ 'settings.categoriesDescription' | translate }}
        </mat-panel-description>
      </mat-expansion-panel-header>
      <app-category-manager />
    </mat-expansion-panel>

    <!-- Data Management -->
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          <mat-icon class="section-icon">cloud_sync</mat-icon>
          {{ 'settings.dataManagement' | translate }}
        </mat-panel-title>
        <mat-panel-description>
          {{ 'settings.dataManagementDescription' | translate }}
        </mat-panel-description>
      </mat-expansion-panel-header>
      <app-data-management />
    </mat-expansion-panel>
  </mat-accordion>
</div>
