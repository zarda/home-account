<div class="budgets-page p-4 md:p-6">
  <!-- Header -->
  <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6">
    <div>
      <h1 class="text-2xl font-bold text-gray-900">Budgets</h1>
      @if (!isLoading() && budgetCount() > 0) {
        <p class="text-sm text-gray-500 mt-1">
          {{ budgetCount() }} {{ budgetCount() === 1 ? 'budget' : 'budgets' }}
        </p>
      }
    </div>
    <button mat-fab extended color="primary" (click)="openAddDialog()">
      <mat-icon>add</mat-icon>
      Add Budget
    </button>
  </div>

  <!-- Content -->
  @if (isLoading()) {
    <app-loading-spinner />
  } @else if (budgets().length === 0) {
    <app-empty-state
      icon="savings"
      title="No budgets yet"
      description="Create your first budget to start tracking your spending goals and stay on top of your finances."
      actionLabel="Create Budget"
      actionIcon="add"
      (action)="openAddDialog()"
    />
  } @else {
    <app-budget-overview
      [budgets]="budgets()"
      [categories]="categoriesMap()"
      (edit)="openEditDialog($event)"
      (delete)="confirmDelete($event)"
    />
  }
</div>
